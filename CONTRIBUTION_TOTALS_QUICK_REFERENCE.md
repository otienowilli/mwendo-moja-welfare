# ğŸ“Š Contribution Totals - Quick Reference\n\n## ğŸ¯ 4 Types of Totals\n\n### 1. Member Total\n**What**: Sum of all contributions by ONE member\n**Formula**: Sum of all amounts where member_id = [member]\n**Example**: John's total = 5,000 + 5,000 + 5,000 = 15,000 KES\n**Stored in**: `member_shares_savings.total_contributions`\n**View in**: Member Profile page\n\n---\n\n### 2. Campaign Total\n**What**: Sum of all payments in ONE campaign\n**Formula**: Sum of all amounts where campaign_id = [campaign] AND status = 'completed'\n**Example**: Jan Campaign = 5,000 + 5,000 + 5,000 = 15,000 KES (3 members paid)\n**Stored in**: `payment_campaigns.total_collected`\n**View in**: Campaign Details page\n\n---\n\n### 3. Group Total\n**What**: Sum of ALL contributions by the ENTIRE group\n**Formula**: Sum of all member_contributions where status = 'confirmed'\n**Example**: All members = 15,000 + 12,000 + 18,000 + 10,000 = 55,000 KES\n**Stored in**: `group_financials.total_contributions`\n**View in**: Reports page\n\n---\n\n### 4. Financial Year Total\n**What**: Sum of contributions in a SPECIFIC YEAR\n**Formula**: Sum of all contributions between Jan 1 and Dec 31 of [year]\n**Example**: 2026 Total = 45,000 KES\n**Stored in**: `group_financials` (by financial_year)\n**View in**: Annual Reports\n\n---\n\n## ğŸ”„ How Totals Update\n\n```\nStep 1: Member pays 5,000 KES via M-Pesa\n        â†“\nStep 2: Payment recorded in database\n        â†“\nStep 3: Member confirms payment\n        â†“\nStep 4: Contribution created\n        â†“\nStep 5: Admin confirms contribution\n        â†“\nStep 6: System automatically updates:\n        - Member total: +5,000\n        - Campaign total: +5,000\n        - Group total: +5,000\n        - Year total: +5,000\n```\n\n---\n\n## ğŸ“Š Calculation Examples\n\n### Example 1: Single Member\n```\nMember: John Doe\nContributions:\n  - Jan: 5,000 KES âœ“\n  - Feb: 5,000 KES âœ“\n  - Mar: 5,000 KES âœ“\n\nJohn's Total = 15,000 KES\n```\n\n### Example 2: Single Campaign\n```\nCampaign: January Monthly Contribution\nAmount per member: 5,000 KES\n\nPayments:\n  - John: 5,000 KES âœ“\n  - Mary: 5,000 KES âœ“\n  - Peter: 5,000 KES âœ“\n  - Sarah: 0 KES âœ— (didn't pay)\n\nCampaign Total = 15,000 KES\nResponse Rate = 75% (3 of 4)\n```\n\n### Example 3: Group Total\n```\nAll Members:\n  - John: 15,000 KES\n  - Mary: 12,000 KES\n  - Peter: 18,000 KES\n  - Sarah: 10,000 KES\n\nGroup Total = 55,000 KES\n```\n\n---\n\n## ğŸ’¾ Database Tables\n\n| Table | Column | Purpose |\n|-------|--------|----------|\n| `member_contributions` | `amount` | Individual contribution amount |\n| `member_shares_savings` | `total_contributions` | Member's total |\n| `payment_campaigns` | `total_collected` | Campaign total |\n| `mpesa_payment_requests` | `amount` | M-Pesa payment amount |\n| `group_financials` | `total_contributions` | Group total by year |\n\n---\n\n## ğŸ” Where to View Totals\n\n| Page | Shows |\n|------|-------|\n| **Member Profile** | Individual member total |\n| **Campaign Details** | Campaign total + responses |\n| **Contributions Page** | All contributions + totals |\n| **Reports** | Group total + yearly breakdown |\n| **Dashboard** | Summary statistics |\n\n---\n\n## âœ… Key Features\n\nâœ… **Automatic**: Updates automatically when payment confirmed\nâœ… **Accurate**: Uses database SUM for precision\nâœ… **Real-time**: Calculated on-demand\nâœ… **Tracked**: Every contribution logged with date\nâœ… **Auditable**: All changes recorded\nâœ… **By Status**: Only counts 'confirmed' contributions\nâœ… **By Date**: Can filter by date range\nâœ… **By Type**: Can filter by contribution type\n\n---\n\n## ğŸš€ Quick Test\n\n1. Create a campaign: \"Test Campaign\" - 100 KES\n2. Send prompts to members\n3. Member pays 100 KES\n4. Check totals:\n   - Member total: +100 KES\n   - Campaign total: +100 KES\n   - Group total: +100 KES\n\n---\n\n**See full guide**: `HOW_CONTRIBUTION_TOTALS_CALCULATED.md`\n"
