# ğŸ“± How to Create a Payment Campaign (M-Pesa)\n\n## ğŸ¯ What is a Payment Campaign?\n\nA payment campaign allows you to:\n- Send M-Pesa payment prompts to all members\n- Members receive STK Push on their phones\n- Members enter M-Pesa PIN to pay\n- Payments are automatically recorded as contributions\n- Track total collected and member responses\n\n---\n\n## ğŸ“‹ Step-by-Step Guide\n\n### Step 1: Login as Admin\n\n1. Go to: **https://mwendomojawelfare.co.ke**\n2. Login with:\n   - **Username**: `williamodwori`\n   - **Password**: `Admin@2024Mwendo`\n3. You should see the **Admin Dashboard**\n\n---\n\n### Step 2: Navigate to Payment Campaigns\n\n1. Click **Admin** in the left sidebar\n2. Click **Payment Campaigns** (under M-Pesa section)\n3. You should see the Payment Campaigns page\n\n---\n\n### Step 3: Click \"Create Campaign\" Button\n\n1. Click the **+ Create Campaign** button (top right)\n2. A form will appear with these fields:\n\n---\n\n## ğŸ“ Fill in the Campaign Form\n\n### Required Fields:\n\n**1. Campaign Title** (Required)\n- Example: \"January Monthly Contribution\"\n- Example: \"Emergency Fund Collection\"\n- Example: \"Loan Repayment Campaign\"\n\n**2. Description** (Optional)\n- Example: \"Monthly contribution for January 2026\"\n- Example: \"Emergency fund for member assistance\"\n\n**3. Campaign Type** (Required)\n- Select one:\n  - **CONTRIBUTION** - Regular member contributions\n  - **LOAN_REPAYMENT** - Loan repayment collection\n  - **WELFARE** - Welfare fund collection\n\n**4. Amount** (Required)\n- Enter the amount in KES (Kenyan Shillings)\n- Example: `100` for 100 KES\n- Example: `5000` for 5000 KES\n- **Limits**: Min 1 KES, Max 150,000 KES\n\n**5. Vote Head** (Optional)\n- Select from dropdown if applicable\n- This categorizes the contribution\n- Example: \"Monthly Contribution\", \"Emergency Fund\"\n\n**6. Start Date** (Required)\n- Click to select date\n- When campaign starts\n- Example: Today's date\n\n**7. End Date** (Required)\n- Click to select date\n- When campaign ends\n- Must be after start date\n- Example: 7 days from today\n\n---\n\n## ğŸ“Œ Example Campaign\n\n**Title**: January Monthly Contribution\n**Description**: Monthly contribution collection for January 2026\n**Type**: CONTRIBUTION\n**Amount**: 5000\n**Vote Head**: Monthly Contribution\n**Start Date**: 30 Jan 2026\n**End Date**: 06 Feb 2026\n\n---\n\n## âœ… Create the Campaign\n\n1. Fill in all required fields\n2. Click **Create Campaign** button\n3. You should see: \"Campaign created successfully!\"\n4. Campaign appears in the list below\n\n---\n\n## ğŸ“¤ Send M-Pesa Prompts\n\nOnce campaign is created:\n\n1. Find your campaign in the list\n2. Click **Send Prompts** button\n3. Confirm: \"Send M-Pesa prompts to all active members?\"\n4. Click **Yes**\n5. You should see: \"Prompts sent to X members!\"\n\n---\n\n## ğŸ“Š What Happens Next?\n\n### For Members:\n1. They receive M-Pesa STK Push on their phone\n2. They see: \"Enter M-Pesa PIN to pay 5000 KES\"\n3. They enter their PIN\n4. Payment is deducted from their M-Pesa account\n5. They receive M-Pesa confirmation\n\n### In the System:\n1. Payment is recorded in \"M-Pesa Payments\" page\n2. Contribution is automatically added to their record\n3. Campaign total is updated\n4. Member response is tracked\n\n---\n\n## ğŸ” View Campaign Details\n\n1. Click on campaign title or **View Details**\n2. See:\n   - Campaign status\n   - Total collected\n   - Number of responses\n   - List of payment requests\n   - Member payment status\n\n---\n\n## ğŸ’¡ Tips\n\nâœ… **Test First**: Create a test campaign with small amount\nâœ… **Clear Title**: Use descriptive titles\nâœ… **Set Dates**: Give members time to pay\nâœ… **Check Members**: Ensure members have active phone numbers\nâœ… **Monitor**: Check campaign details to see responses\n\n---\n\n## âš ï¸ Important Notes\n\n- **Sandbox Mode**: Currently in sandbox (test mode)\n- **No Real Money**: Test payments don't deduct real money\n- **Test Phone Numbers**: Use Safaricom test numbers\n- **Callback URL**: Configured to receive payment notifications\n- **M-Pesa Enabled**: Feature is enabled in .env\n\n---\n\n## ğŸ†˜ Troubleshooting\n\n**Campaign won't create?**\n- Check all required fields are filled\n- Ensure end date is after start date\n- Check amount is between 1-150,000 KES\n\n**Prompts not sending?**\n- Check members have phone numbers\n- Check backend is running\n- Check M-Pesa credentials in .env\n\n**Members not receiving prompts?**\n- Check member phone numbers are correct\n- Check M-Pesa is enabled\n- Check callback URL is configured\n\n---\n\n**Ready to create your first campaign?** ğŸš€\n"
