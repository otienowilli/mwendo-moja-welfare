# ðŸ”„ Restart System - Backend & Frontend\n\n## ðŸš€ Quick Restart Commands\n\n### Step 1: SSH to TrueHost\n\n```bash\nssh gmooutas@sbg106.ovh.net\n```\n\nOr use cPanel Terminal\n\n---\n\n## ðŸ”´ Stop Backend\n\n```bash\npkill -f \"node src/server.js\"\nsleep 2\necho \"Backend stopped\"\n```\n\n---\n\n## ðŸŸ¢ Start Backend\n\n```bash\ncd ~/public_html\nnohup node src/server.js > /tmp/mwendo-backend.log 2>&1 &\nsleep 3\ncurl http://localhost:8000/api/health\n```\n\n**Expected Output**:\n```json\n{\"status\":\"Server is running\"}\n```\n\n---\n\n## âœ… Verify Backend\n\n```bash\n# Check if running\nps aux | grep \"node src/server.js\" | grep -v grep\n\n# Check logs\ntail -50 /tmp/mwendo-backend.log\n\n# Check health\ncurl http://localhost:8000/api/health\n```\n\n---\n\n## ðŸŒ Frontend\n\nFrontend is **static files** served by Apache.\n\n**No restart needed** - it's always running.\n\nIf you need to clear cache:\n```bash\n# Clear browser cache or\n# Visit: https://mwendomojawelfare.co.ke?v=$(date +%s)\n```\n\n---\n\n## ðŸ“‹ Complete Restart Script\n\nCopy and paste this entire block:\n\n```bash\n#!/bin/bash\n\necho \"ðŸ”´ Stopping backend...\"\npkill -f \"node src/server.js\"\nsleep 2\n\necho \"ðŸŸ¢ Starting backend...\"\ncd ~/public_html\nnohup node src/server.js > /tmp/mwendo-backend.log 2>&1 &\nsleep 3\n\necho \"âœ… Checking backend...\"\ncurl http://localhost:8000/api/health\n\necho \"\"\necho \"âœ… System restarted!\"\necho \"\"\necho \"Backend Status:\"\nps aux | grep \"node src/server.js\" | grep -v grep\n\necho \"\"\necho \"Recent Logs:\"\ntail -20 /tmp/mwendo-backend.log\n```\n\n---\n\n## ðŸ†˜ If Backend Won't Start\n\n### Check for errors:\n```bash\ntail -100 /tmp/mwendo-backend.log\n```\n\n### Check if port is in use:\n```bash\nnetstat -tlnp | grep 8000\n```\n\n### Force kill and restart:\n```bash\npkill -9 -f \"node src/server.js\"\nsleep 2\ncd ~/public_html\nnohup node src/server.js > /tmp/mwendo-backend.log 2>&1 &\nsleep 3\ncurl http://localhost:8000/api/health\n```\n\n---\n\n## ðŸ§ª Test After Restart\n\n1. **Backend Health**:\n   ```bash\n   curl http://localhost:8000/api/health\n   ```\n   Should return: `{\"status\":\"Server is running\"}`\n\n2. **Website**:\n   Go to: https://mwendomojawelfare.co.ke\n   Should load the login page\n\n3. **Login**:\n   - Username: williamodwori\n   - Password: Admin@2024Mwendo\n   Should see dashboard\n\n---\n\n## ðŸ“Š Monitoring\n\n### Check backend is running:\n```bash\nps aux | grep \"node src/server.js\"\n```\n\n### Watch logs in real-time:\n```bash\ntail -f /tmp/mwendo-backend.log\n```\n\n### Check memory usage:\n```bash\nps aux | grep node\n```\n\n---\n\n## ðŸ”„ Auto-Restart on Reboot\n\nTo make backend start automatically on server reboot:\n\n```bash\n# Install PM2 globally\nnpm install -g pm2\n\n# Start backend with PM2\ncd ~/public_html\npm2 start src/server.js --name \"mwendo-backend\"\n\n# Save PM2 config\npm2 save\npm2 startup\n```\n\nThen backend will restart automatically on reboot.\n\n---\n\n## âœ… Summary\n\n**Backend**: Node.js server on port 8000\n**Frontend**: Static files served by Apache\n**Database**: SQLite (no restart needed)\n\n**To restart**: Kill Node process and start again\n**To verify**: Check health endpoint\n**To monitor**: Watch logs\n\n---\n\n**Ready to restart?** Run the commands above! ðŸš€\n"
